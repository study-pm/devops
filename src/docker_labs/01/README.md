# Lab #1: Create an image with GIT installed
https://dockerlabs.collabnix.com/beginners/dockerfile/lab1_dockerfile_git.html

- [Assignment](#assignment)
- [Command Line Tools](#command-line-tools)
  - [Start the service](#start-the-service)
  - [Stop the service](#stop-the-service)
  - [Underlying commands](#underlying-commands)
    - [Creating Dockerfile](#creating-dockerfile)
    - [Build Docker Image](#build-docker-image)
    - [Tagging image as labs-git](#tagging-image-as-labs-git)
    - [Verify the Images](#verify-the-images)
    - [Create a container](#create-a-container)
    - [Enter into Container Shell](#enter-into-container-shell)
    - [Verify if GIT is installed](#verify-if-git-is-installed)
- [Troubleshooting / Utils / Trivia](#troubleshooting--utils--trivia)

## Assignment
- Create an image with GIT installed
- Tag your image as `labs-git:v1.0`
- Create a container based on that image, and run `git --version` to check that it is installed correctly

## Command Line Tools
There are two prime commands for managing (starting and stopping) the provided service.

### Start the service
The following command runs the full command sequence:
```sh
$ ./start
```

alternatively:
```sh
$ sh start
```

### Stop the service
The following command clears all of the output (removing all possible side-effects) generated by running the *start* command:
```sh
$ ./clear
```

alternatively:
```sh
$ sh clear
```

### Underlying commands
There are multiple underlying scripts used for building the service functions. The sections below describe the commands used for managing the provided service and .

#### Creating Dockerfile
```docker
FROM alpine:3.5
RUN apk update
RUN apk add git
```

Placed into *[create.sh](./create.sh)*.

#### Build Docker Image
```sh
docker build -t ajeetraina/alpine-git .
```

Placed into *[build.sh](./build.sh)*.

#### Tagging image as labs-git
```sh
docker tag ajeetraina/alpine-git ajeetraina/labs-git:v1.0
```

Placed into *[tag.sh](./tag.sh)*.

#### Verify the Images
```sh
$ docker images
REPOSITORY              TAG                 IMAGE ID            CREATED             SIZE
ajeetraina/alpine-git   latest              cb913e37a593        16 seconds ago      26.6MB
ajeetraina/labs-git     v1.0                cb913e37a593        16 seconds ago      26.6MB
```

Placed into *[verify.sh](./verify.sh)*.

#### Create a container
```sh
docker run -itd ajeetraina/labs-git:v1.0 /bin/sh
```

Placed into *[run.sh](./run.sh)*.

List containers:

```sh
$ docker ps
CONTAINER ID        IMAGE                      COMMAND             CREATED             STATUS              PORTS               NAMES
3e26a5268f55        ajeetraina/labs-git:v1.0   "/bin/sh"           4 seconds ago       Up 2 seconds                            elated_neumann
```

Placed into *[list.sh](./list.sh)*.

#### Enter into Container Shell
```sh
docker attach 3e26
```

Placed into *[attach.sh](./attach.sh)*.

Please press <kbd>Enter</kbd> key twice so as to enter into container shell

#### Verify if GIT is installed
Type in the following after entering into the respective container shell:
```
/ # git --version
git version 2.13.7
```

## Troubleshooting / Utils / Trivia
If you get the *permission denied* error while building the service scripts, make the script file executable:
```sh
$ chmod +x start
```

or:
```
$ chmod u+x clear
```
